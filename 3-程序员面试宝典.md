- [ç¨‹åºå‘˜é¢è¯•å®å…¸](#ç¨‹åºå‘˜é¢è¯•å®å…¸)
    - [19-3-28](#19-3-28)
        - [ç¬¬ä¸€éƒ¨åˆ† æ±‚èŒè¿‡ç¨‹](#ç¬¬ä¸€éƒ¨åˆ†-æ±‚èŒè¿‡ç¨‹)
            - [ç¬¬1ç«  åº”è˜æ±‚èŒ](#ç¬¬1ç« -åº”è˜æ±‚èŒ)
                - [æ¸ é“](#æ¸ é“)
                - [æµç¨‹](#æµç¨‹)
            - [ç¬¬2ç«  ç®€å†ä¹¦å†™](#ç¬¬2ç« -ç®€å†ä¹¦å†™)
                - [ç®€å†æ³¨æ„äº‹é¡¹](#ç®€å†æ³¨æ„äº‹é¡¹)
                - [ç®€å†æ¨¡æ¿](#ç®€å†æ¨¡æ¿)
            - [ç¬¬3ç«  æ±‚èŒäº”éƒ¨æ›²](#ç¬¬3ç« -æ±‚èŒäº”éƒ¨æ›²)
                - [ç¬”è¯•](#ç¬”è¯•)
                - [ç”µè¯é¢è¯•](#ç”µè¯é¢è¯•)
                - [é¢è¯•](#é¢è¯•)
                - [ç­¾çº¦](#ç­¾çº¦)
                - [è¿çº¦](#è¿çº¦)
            - [ç¬¬4ç«  èŒä¸šç”Ÿæ¶¯å‘å±•è§„åˆ’](#ç¬¬4ç« -èŒä¸šç”Ÿæ¶¯å‘å±•è§„åˆ’)
                - [ç¼ºä¹å·¥ä½œç»éªŒçš„åº”å±Šæ¯•ä¸šç”Ÿ](#ç¼ºä¹å·¥ä½œç»éªŒçš„åº”å±Šæ¯•ä¸šç”Ÿ)
                - [æ›´æ¢å·¥ä½œçš„ç¨‹åºå‘˜](#æ›´æ¢å·¥ä½œçš„ç¨‹åºå‘˜)
                - [å¿«ä¹çš„å·¥ä½œ](#å¿«ä¹çš„å·¥ä½œ)
        - [ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡](#ç¬¬äºŒéƒ¨åˆ†-ccppç¨‹åºè®¾è®¡)
            - [ç¬¬5ç«  ç¨‹åºè®¾è®¡åŸºæœ¬æ¦‚å¿µ](#ç¬¬5ç« -ç¨‹åºè®¾è®¡åŸºæœ¬æ¦‚å¿µ)
                - [5.1 èµ‹å€¼è¯­å¥](#51-èµ‹å€¼è¯­å¥)
                - [5.2 é€’å¢è¯­å¥](#52-é€’å¢è¯­å¥)
                - [5.3 ç¼–ç¨‹é£æ ¼](#53-ç¼–ç¨‹é£æ ¼)
                - [5.4 ç±»å‹è½¬æ¢](#54-ç±»å‹è½¬æ¢)
                - [5.5 è¿ç®—ç¬¦é—®é¢˜](#55-è¿ç®—ç¬¦é—®é¢˜)
                - [5.6 a,bäº¤æ¢ä¸æ¯”è¾ƒ](#56-abäº¤æ¢ä¸æ¯”è¾ƒ)
                - [5.7 cå’Œc++çš„å…³ç³»](#57-cå’Œcçš„å…³ç³»)
                - [5.8 ç¨‹åºè®¾è®¡çš„å…¶ä»–é—®é¢˜](#58-ç¨‹åºè®¾è®¡çš„å…¶ä»–é—®é¢˜)
    - [19-3-29](#19-3-29)
        - [ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]](#ç¬¬äºŒéƒ¨åˆ†-ccppç¨‹åºè®¾è®¡ç»­)
            - [ç¬¬6ç«  é¢„å¤„ç†,constä¸sizeof](#ç¬¬6ç« -é¢„å¤„ç†constä¸sizeof)
                - [6.1 å®å®šä¹‰](#61-å®å®šä¹‰)
                - [6.2 const](#62-const)
    - [19-4-2](#19-4-2)
        - [ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]](#ç¬¬äºŒéƒ¨åˆ†-ccppç¨‹åºè®¾è®¡ç»­-1)
            - [ç¬¬6ç« (ç»­)](#ç¬¬6ç« ç»­)
                - [6.3 sizeof](#63-sizeof)
                - [6.4 å†…è”å‡½æ•°å’Œå®å®šä¹‰](#64-å†…è”å‡½æ•°å’Œå®å®šä¹‰)
    - [19-4-4](#19-4-4)
        - [ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]](#ç¬¬äºŒéƒ¨åˆ†-ccppç¨‹åºè®¾è®¡ç»­-2)
            - [ç¬¬7ç«  æŒ‡é’ˆä¸å¼•ç”¨](#ç¬¬7ç« -æŒ‡é’ˆä¸å¼•ç”¨)
                - [7.1 æŒ‡é’ˆåŸºæœ¬é—®é¢˜](#71-æŒ‡é’ˆåŸºæœ¬é—®é¢˜)
                - [7.2 ä¼ é€’åŠ¨æ€å†…å­˜](#72-ä¼ é€’åŠ¨æ€å†…å­˜)
    - [19.4.30](#19430)
        - [ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]](#ç¬¬äºŒéƒ¨åˆ†-ccppç¨‹åºè®¾è®¡ç»­-3)
            - [ç¬¬7ç«  æŒ‡é’ˆä¸å¼•ç”¨[ç»­]](#ç¬¬7ç« -æŒ‡é’ˆä¸å¼•ç”¨ç»­)
                - [7.3 å‡½æ•°æŒ‡é’ˆ](#73-å‡½æ•°æŒ‡é’ˆ)
                - [7.4 æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ](#74-æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ)
                - [7.5 è¿·é€”æŒ‡é’ˆ](#75-è¿·é€”æŒ‡é’ˆ)
                - [7.6 æŒ‡é’ˆå’Œå¥æŸ„](#76-æŒ‡é’ˆå’Œå¥æŸ„)
                - [7.7 thisæŒ‡é’ˆ](#77-thisæŒ‡é’ˆ)

---

# ç¨‹åºå‘˜é¢è¯•å®å…¸

## 19-3-28

### ç¬¬ä¸€éƒ¨åˆ† æ±‚èŒè¿‡ç¨‹

#### ç¬¬1ç«  åº”è˜æ±‚èŒ

##### æ¸ é“

[æŒ–å‘å¾…å¡«](#)

##### æµç¨‹

[æŒ–å‘å¾…å¡«](#)

#### ç¬¬2ç«  ç®€å†ä¹¦å†™

##### ç®€å†æ³¨æ„äº‹é¡¹

[æŒ–å‘å¾…å¡«](#)

##### ç®€å†æ¨¡æ¿

[æŒ–å‘å¾…å¡«](#)

#### ç¬¬3ç«  æ±‚èŒäº”éƒ¨æ›²

##### ç¬”è¯•

[æŒ–å‘å¾…å¡«](#)

##### ç”µè¯é¢è¯•

[æŒ–å‘å¾…å¡«](#)

##### é¢è¯•

[æŒ–å‘å¾…å¡«](#)

##### ç­¾çº¦

[æŒ–å‘å¾…å¡«](#)

##### è¿çº¦

[æŒ–å‘å¾…å¡«](#)

#### ç¬¬4ç«  èŒä¸šç”Ÿæ¶¯å‘å±•è§„åˆ’

##### ç¼ºä¹å·¥ä½œç»éªŒçš„åº”å±Šæ¯•ä¸šç”Ÿ

[æŒ–å‘å¾…å¡«](#)

##### æ›´æ¢å·¥ä½œçš„ç¨‹åºå‘˜

[æŒ–å‘å¾…å¡«](#)

##### å¿«ä¹çš„å·¥ä½œ

[æŒ–å‘å¾…å¡«](#)

### ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡

#### ç¬¬5ç«  ç¨‹åºè®¾è®¡åŸºæœ¬æ¦‚å¿µ

##### 5.1 èµ‹å€¼è¯­å¥

1. ä¸‹åˆ—Cppä»£ç çš„ç»“æœ?

    ```cpp
    int i = 1;
    void main(){
        int i = i;
    }
    ```

    **A. mainé‡Œçš„iæ˜¯ä¸€ä¸ªæœªå®šä¹‰å€¼**  
    B. mainé‡Œçš„iä¸º1  
    C. ç¼–è¯‘å™¨ä¸å…è®¸  
    D. mainé‡Œçš„iä¸º0  
    è§£æ: åœ¨Cppé‡Œè¿™æ ·å†™æ˜¯åˆæ³•çš„(ä½†æ˜¯ä¸åˆç†).`int i = i;`,å˜é‡iä»å£°æ˜çš„é‚£ä¸€åˆ»å¼€å§‹å°±æ˜¯å¯è§çš„äº†,æ‰€ä»¥mainé‡Œçš„iä¸mainå¤–çš„iæ— å…³,å› æ­¤iæ˜¯ä¸€ä¸ªæœªå®šä¹‰å€¼.

2. ä¸‹åˆ—ç¨‹åºçš„ç»“æœæ˜¯?

    ```cpp
    #include<iostream>
    using namespace std;
    int main(){
        int x=2, y, z;
        x *= (y=z=5); cout << x << endl;  // z=5 ==> y=z ==> x=x*y ==> x=2*5 ==> x=10
        z=3;
        x == (y = z); cout << x << endl;  // y=z ==> x==y? ==> xä¸å˜ ==> x=10
        x = (y == z); cout << x << endl;  // y==z? ==> x=1
        x = (y & z); cout << x << endl;  // y&z ==> 0011B&0011B ==> x=3
        x = (y && z); cout << x << endl;  // y&&z? ==> true&&true ==> x=1
        y=4;
        x = (y | z); cout << x << endl;  // y|z ==> 0100B|0011B ==> x=0111B ==> x=7
        x = (y || z); cout << x << endl;  // y||z? ==> true||true ==> x=1
        return 0;
    }
    ```

    è§£æ: 10, 10, 1, 3, 1, 7, 1

3. ä»¥ä¸‹ä»£ç ç»“æœ?

    ```cpp
    #include<iostream>
    using namespace std;
    int func(int x){
        int count = 0;
        while(x){
            count++;
            x=x&(x-1);
        }
        return count;
    }

    int main(){
        cout << func(9999) << endl;
        return 0;
    }
    ```

    **A. 8**  
    B. 9  
    C. 10  
    D. 11  
    è§£æ: func(x)å®é™…è¿”å›å°†xè½¬æ¢ä¸ºäºŒè¿›åˆ¶ååŒ…å«1çš„æ•°é‡,å› æ­¤`9999: 10 0111 0000 1111B`åŒ…å«8ä¸ª1.

##### 5.2 é€’å¢è¯­å¥

1. æ¯”è¾ƒä¸¤æ®µä»£ç çš„è¾“å‡º?
   1. ç¬¬ä¸€æ®µ

        ```cpp
        # include<iostream>
        using namespace std;
        int main(){
            int a,x;
            for(a=0,x=0;a<=1 && !x++;a++){  // åŒºåˆ«
                a++;
            }
            cout<<a<<x<<endl;
            return 0;
        }
        ```

   2. ç¬¬äºŒæ®µ

        ```cpp
        #include<iostream>
        using namespace std;
        int main(){
            int a,x;
            for(a=0,x=0;a<=1 && !x++;){  // åŒºåˆ«
                a++;
            }
            cout<<a<<x<<endl;
            return 0;
        }
        ```

    * è§£æ:
      1. ç¬¬ä¸€æ®µä»£ç 
         1. åˆå§‹åŒ–a=0,x=0
         2. a<=1å’Œ!xå‡ä¸ºtrue,ç¬¦åˆå¾ªç¯æ¡ä»¶
         3. x++è‡ªå¢åä¸º1
         4. è¿›å…¥å¾ªç¯ä½“,aè‡ªå¢ä¸º1
         5. æ‰§è¡Œforè¯­å¥ä¸­çš„a++,aè‡ªå¢ä¸º2
         6. *æ­¤æ—¶æ¡ä»¶a<=1ä¸æˆç«‹,**ç”±äºçŸ­è·¯åŸåˆ™**&&åé¢çš„è¯­å¥ä¸æ‰§è¡Œ,å› æ­¤xä¸å˜*
         7. æ‰“å°è¾“å‡º2å’Œ1
      2. ç¬¬äºŒæ®µä»£ç 
         1. åˆå§‹åŒ–a=0,x=0
         2. a<=1å’Œ!xå‡ä¸ºtrue,ç¬¦åˆè™šå¹»æ¡ä»¶
         3. x++è‡ªå¢åä¸º1
         4. è¿›å…¥å¾ªç¯ä½“,aè‡ªå¢ä¸º1
         5. *æ­¤æ—¶æ¡ä»¶a<=1æˆç«‹,ä½†!xä¸º0,ä¸æ»¡è¶³å¾ªç¯æ¡ä»¶,ä¸æ‰§è¡Œå¾ªç¯ä½“,ä½†æ˜¯**x++ä¾ç„¶æ‰§è¡Œ**,xè‡ªå¢ä¸º2*
         6. æ‰“å°è¾“å‡º1å’Œ2

2. ä»¥ä¸‹ä»£ç çš„è¾“å‡º?

    ```c
    #include<stdio.h>
    main(){
        int b=3;  // æˆ‘åœ¨è¿™é‡Œåšä»€ä¹ˆ?
        int arr[]={6,7,8,9,10};
        int *ptr=arr;  // ä¹¦ä¸Šä»£ç é”™äº†
        *(ptr++)+=123;
        printf("%d,%d\n",*ptr,*(++ptr));
    }
    ```

    * è§£æ: Cè¯­è¨€ä¸­printfè®¡ç®—å‚æ•°æ—¶**ä»å³å‘å·¦å‹æ ˆ**.
        1. ptr===>arr[0] >>> *pträ¸º6.
        2. *ptr = *ptr+123,ptr++ >>> *ptr=arr[0]=129,ptr===>arr[1]
        3. printfä»å³å‘å·¦å‹æ ˆ,å…ˆæ‰§è¡Œ(++ptr) >>> ptr===>arr[2] >>> *pträ¸º8
        4. è¾“å‡ºä¸¤ä¸ª*ptr,å‡ä¸º8

##### 5.3 ç¼–ç¨‹é£æ ¼

1. ä½ å–œæ¬¢å“ªç§ä»£ç å†™æ³•?
   1. å†™æ³•1

       ```c
       if('A'==a){
           a++;
       }
       ```

   2. å†™æ³•2

       ```c
       if(a=='A'){
           a++;
       }
       ```

2. ä½ å–œæ¬¢å“ªç§ä»£ç å†™æ³•?
   1. å†™æ³•1

        ```c
        for(i=0;i<8;i++){
            X = i+Y+J*7;
            printf("%d",x);
        }
        ```

   2. å†™æ³•2

        ```c
        S = Y+J*7;
        for(i=0;i<8;i++){
            printf("%d",i+S);
        }
        ```

* è§£æ:
  1. ç¬¬ä¸€ç§å†™æ³•å¥½,å› ä¸ºä¸å…è®¸å¯¹å¸¸é‡èµ‹å€¼,å¯ä»¥é¿å…å°†`==`é”™å†™ä¸º`=`çš„æƒ…å†µ.
  2. ç¬¬äºŒç§å†™æ³•å¥½,å°†éƒ¨åˆ†é‡å¤è¿ç®—æ”¾åˆ°å¾ªç¯ä½“å¤–,å¯ä»¥æé«˜æ•ˆç‡,ä½†æ˜¯ç¨‹åºä¸é‚£ä¹ˆç®€æ´.

##### 5.4 ç±»å‹è½¬æ¢

1. ä¸‹é¢ç¨‹åºçš„è¿è¡Œç»“æœæ˜¯?

    ```cpp
    #include<iostream>
    #include<stdio.h>
    #include<string.h>
    #include<conio.h>
    using namespace std;
    int main()
    {
        float a = 1.0f;
        cout<<(int)a<<endl;
        cout<<&a<<endl;
        cout<<(int&)a<<endl;
        cout<<boolalpha<< ( (int)a == (int&)a )<<endl;  // è¾“å‡ºfalse
        float b=0.0f;
        cout<< (int)b <<endl;
        cout<<&b<<endl;
        cout<<(int&)b<<endl;
        cout<<boolalpha<< ( (int)b == (int&)b )<<endl;  // è¾“å‡ºtrue
        return 0;
    }
    ```

    * è§£æ:
      1. `cout<<(int&)a<<endl;`è¾“å‡ºçš„æ˜¯`1065353216`,è€Œä¸æ˜¯1.å› ä¸ºåœ¨å†…å­˜é‡Œæµ®ç‚¹æ•°å’Œæ•´æ•°çš„å­˜å‚¨æ–¹å¼ä¸åŒ,**`(int&)a`ç›¸å½“äºå°†è¯¥æµ®ç‚¹æ•°åœ°å€å¼€å§‹çš„sizeof(int)ä¸ªå­—èŠ‚å½“ä½œintå‹çš„æ•°æ®è¾“å‡º**,è¿™å–å†³äºfloatæ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼.
      2. `float a=1.0f`åœ¨å†…å­˜ä¸­çš„è¡¨ç¤ºéƒ½æ˜¯`3f800000`,å½“`(int&)a`å¼ºåˆ¶è½¬æ¢æ—¶,ä¼šæŠŠå†…å­˜å€¼`3f800000`å½“ä½œintå‹è¾“å‡º,æ‰€ä»¥ç»“æœå˜æˆäº†`1065353216`(`0x3f800000`çš„åè¿›åˆ¶è¡¨ç¤º).
      3. `(int&)a == static_cast <int&>(a)`????
      4. `(int&)a ç›¸å½“äº*(int*)&a ; *(int*)(&a) ; *((int*)&a)`????

2. ä¸‹é¢ç¨‹åºçš„è¿è¡Œç»“æœæ˜¯?

    ```cpp
    #include<stdio.h>
    int main()
    {
        unsigned int a = 0xfffffff7;
        unsigned char i = (unsigned char)a;
        char* b = (char*)&a;
        printf("%08x, %08x",i,*b);
        return 0;
    }
    ```

    * è§£æ:
      1. åœ¨X86ç³»åˆ—æœºå™¨ä¸­,æ•°æ®çš„å­˜å‚¨æ˜¯"å°ç«¯å­˜å‚¨",å³å¯¹äºä¸€ä¸ªè·¨å¤šä¸ªå­—èŠ‚çš„æ•°æ®,å…¶ä½ä½å­˜æ”¾åœ¨ä½åœ°å€å­—èŠ‚,é«˜ä½å­˜æ”¾åœ¨é«˜åœ°å€å­—èŠ‚.æ¯”å¦‚ä¸€ä¸ªintå‹æ•°æ®`0x12345678`,å­˜æ”¾åœ¨`0x00000000,0x00000001,0x00000002,0x00000003`ä¸­,é‚£ä¹ˆ`0x00000000`å­˜æ”¾ä½ä½`0x78`,`0x00000003`å­˜æ”¾é«˜ä½`0x12`.
      2. `char* b = (char*)&a;`å°†`&a`å¼ºåˆ¶è½¬æ¢æˆ`char*`ç±»å‹çš„æŒ‡é’ˆ,å¹¶ä¸”æ­¤æ—¶å‘ç”Ÿäº†æˆªæ–­.æˆªæ–­å,æŒ‡é’ˆbåªæŒ‡å‘`0xf7`è¿™ä¸ªæ•°æ®,åˆç”±äºæŒ‡é’ˆbæ˜¯`char*`ç±»å‹çš„,å±äºæœ‰ç¬¦å·æ•°,æ‰€ä»¥**æœ‰ç¬¦å·æ•°`0xf7`åœ¨printfçš„ä½œç”¨ä¸‹è¾“å‡º`fffffff7`.**(é¦–å…ˆæå‡ä¸ºint,æ— ç¬¦å·ç”¨0æ‰©å……,æœ‰ç¬¦å·ç”¨1æ‰©å……????)
      3. å†…ç½®ç±»å‹è½¬æ¢
         1. æ··åˆç±»å‹,æœ€å®½çš„æ•°æ®ç±»å‹æˆä¸ºç›®æ ‡ç±»å‹.
         2. ç”¨ä¸€ç§ç±»å‹çš„è¡¨è¾¾å¼èµ‹å€¼ç»™å¦ä¸€ç§ç±»å‹çš„å¯¹è±¡,è¢«èµ‹å€¼å¯¹è±¡ç±»å‹æˆä¸ºç›®æ ‡ç±»å‹.
         3. å‡½æ•°ä¼ å‚,å½¢å‚ç±»å‹ä¸ºç›®æ ‡ç±»å‹.
         4. å‡½æ•°è¿”å›,è¿”å›ç±»å‹ä¸ºç›®æ ‡ç±»å‹.
         5. ä¸ºé˜²æ­¢ç²¾åº¦ä¸¢å¤±,ç±»å‹æ€»ä¼šè¢«æå‡ä¸ºè¾ƒå®½çš„ç±»å‹.
         6. **æ‰€æœ‰å«æœ‰å°äºæ•´å½¢çš„æœ‰åºç±»å‹çš„ç®—æœ¯è¡¨è¾¾å¼åœ¨è®¡ç®—ä¹‹å‰å…¶ç±»å‹éƒ½ä¼šè¢«è½¬æ¢ä¸ºæ•´å½¢.**
            1. å¦‚æœä¸€ä¸ªç±»å‹æ˜¯`long double`,é‚£ä¹ˆå¦ä¸€ä¸ªå¿…ç„¶ä¼šè¢«è½¬æ¢ä¸º`long double`.
            2. å¦åˆ™,è‹¥å…¶ä¸­ä¸€ä¸ªä¸º`double`,åˆ™å¦ä¸€ä¸ªè¢«è½¬æ¢ä¸º`double`.
            3. å¦åˆ™,è‹¥å…¶ä¸­ä¸€ä¸ªä¸º`float`,åˆ™å¦ä¸€ä¸ªè¢«è½¬æ¢ä¸º`float`.
            4. å¦åˆ™,å¿…ç„¶æ˜¯æŸç§æ•°å€¼ç±»å‹.åœ¨ç¡®å®šç›®æ ‡æå‡ç±»å‹ä¹‹å‰,**æ‰€æœ‰å°äº`int`çš„æ•´å€¼ç±»å‹éƒ½ä¼šæœ‰ä¸€ä¸ªæ•´å½¢æå‡çš„è¿‡ç¨‹.**
            5. æ•´å½¢æå‡å®Œæˆå,ç±»å‹æ¯”è¾ƒå†æ¬¡å¼€å§‹.

##### 5.5 è¿ç®—ç¬¦é—®é¢˜

1. ä¸‹é¢ç¨‹åºçš„è¿è¡Œç»“æœ?

    ```cpp
    #include <iostream>
    using namespace std;

    int main()
    {
        unsigned char a = 0xa5;
        unsigned char b = ~a >> 4 + 1;
        // cout<<b;
        printf("b=%d\n", b);
        return 0;
    }
    ```

    A:245   B:246   **C:250**   D:2
    * è§£æ:
      1. è€ƒå¯Ÿä¸¤ä¸ªçŸ¥è¯†ç‚¹,ç±»å‹è½¬æ¢å’Œè¿ç®—ç¬¦ä¼˜å…ˆçº§.
         1. ç±»å‹è½¬æ¢,å¯¹äº`unsigned char b = ~a >> 4 + 1;`,ç¼–è¯‘å™¨é¦–å…ˆä¼šæŠŠaå’Œ4æå‡ä¸ºæ•´å½¢ååœ¨è®¡ç®—,å®Œæˆåè½¬æ¢ä¸º`unsigned char`èµ‹å€¼ç»™b.
         2. ä¼˜å…ˆçº§`~`é«˜äº`+`é«˜äº`>>`
            1. å…ˆå¯¹`1010 0101`å–åå¾—`0101 1010`,å†å³ç§»(4+1)ä½,ç»“æœä¸º`0000 0010`.
         3. `~a`æ“ä½œæ—¶,é¦–å…ˆå¯¹aè¿›è¡Œæ•´å½¢æå‡,aä¸ºæ— ç¬¦å·æ•°,æå‡æ—¶å·¦è¾¹è¡¥0,å³`~0x0000 00a5`ä¸º`0xffff ff5a`,å³ç§»5ä½å`0x07ff ffffa`,æˆªå–åä¸º`0xfa`,å³`250`.
    ![è¿ç®—ç¬¦ä¼˜å…ˆçº§](./images/Operator_precedence.png)

2. ç”¨ä¸€ä¸ªè¡¨è¾¾å¼,åˆ¤æ–­ä¸€ä¸ªæ•°Xæ˜¯å¦æ˜¯2çš„Næ¬¡æ–¹,ä¸ä½¿ç”¨ç”¨å¾ªç¯è¯­å¥.(**!(X&(X-1))**)

    è§£æ:2,4,8,16è¿™æ ·çš„æ•°è½¬æ¢ä¸ºäºŒè¿›åˆ¶åä¸º10,100,1000,10000.å°†X-1åä¸XåšæŒ‰ä½ä¸è¿ç®—ä¸º0.

3. ä¸‹é¢ä»£ç 

    ```cpp
    int f(int x, int y){
        return (x&y) + ((x^y)>>1);
    }
    ```

    f(729,271)=____  
    è§£æ:`x&y`å–ç›¸åŒçš„ä½ä¸,ç»“æœä¸ºxå’Œyç›¸åŒä½çš„å’Œçš„ä¸€åŠ,`x^y`å–xå’Œyä¸åŒçš„ä½,å³ç§»ç›¸å½“äºé™¤ä»¥2,æ‰€ä»¥ç›¸å½“äºå–ä¸¤æ•°çš„å¹³å‡æ•°.å³`(729+271)/2=500`.

4. åˆ©ç”¨ä½è¿ç®—å®ç°ä¸¤ä¸ªæ•´æ•°çš„åŠ æ³•è¿ç®—.

    ```cpp
    int Add(int a,int b){
        if(b==0) retuen a;  // æ²¡æœ‰è¿›ä½çš„æ—¶å€™å®Œæˆè¿ç®—
        int sum, carry;
        sum = a ^ b;  // å®Œæˆç¬¬ä¸€æ­¥æ²¡æœ‰è¿›ä½çš„åŠ æ³•è¿ç®—
        carry = (a & b) << 1;  // å®Œæˆç¬¬äºŒæ­¥è¿›ä½å¹¶ä¸”è¿›è¡Œå·¦ç§»è¿ç®—
        return Add(sum,carry);  // è¿›è¡Œé€’å½’,ç›¸åŠ 
    }
    ```

##### 5.6 a,bäº¤æ¢ä¸æ¯”è¾ƒ

1. æ‰¾å‡ºä¸¤ä¸ªæ•°ä¸­è¾ƒå¤§çš„?
   1. `int max = ((a+b) + abs(a-b))/2`
   2.   ```cpp
        int c = a-b;
        char *str2[2] = ["a Large ","b Large "];
        c = unsigned(c) >> (sizeof(int)*8 -1);  // å³ç§»31ä½,çœ‹ç¬¦å·ä½????
        ```

2. æ‰¾å‡ºä¸¤æ•°ä¸­æœ€å¤§çš„?

    ```cpp
    bool func(int a,int b ){
        return a>b;
    }
    int max(int a,int b){
        bool flag = func(a,b);
        return flag*a + (1-flag)*b;
    }
    ```

3. å†™ä¸€ä¸ªäº¤æ¢ä¸¤æ•°æ®çš„å®?
   1. æŒ‰ä½å¼‚æˆ–æ“ä½œ,æ¯”å¦‚äº¤æ¢9å’Œ5(åªèƒ½ä¸ºæ•´å½¢)

        ```cpp
        0000 1001(9)^0000 0101(5)  00001100(12)
        0000 1001(9)^0000 1100(12) 00000101(5)
        0000 1100(12)^0000 0101(5) 0000 1001(9)
        #define SWAP(a,b){  a= a^b;  b= a^b; a= a^b; }
        #define SWAP(a,b){  a^= b^ = a^ = b;  }
        ```

   2. å†…å­˜äº¤æ¢(é€‚ç”¨äºæµ®ç‚¹æ•°)

        ```cpp
        #define SWAP(a,b){
            char tempBuf[10];
            memcpy(tempBuf,&a,sizeof(a));
            memcpy(&a,&b,sizeof(b));
            memcpy(&b,tempBuf,sizeof(b));
        }
        ```

##### 5.7 cå’Œc++çš„å…³ç³»

1. åœ¨c++ç¨‹åºä¸­è°ƒç”¨è¢«cç¼–è¯‘å™¨ç¼–è¯‘åçš„å‡½æ•°,ä¸ºä»€ä¹ˆè¦åŠ `extern "C"`?

    * ç­”æ¡ˆ:c++æ”¯æŒå‡½æ•°é‡è½½,cä¸æ”¯æŒå‡½æ•°é‡è½½.å‡½æ•°è¢«c++ç¼–è¯‘ååœ¨åº“ä¸­çš„åå­—ä¸cä¸åŒ.å‡è®¾æŸå‡½æ•°çš„åŸå‹ä¸º`void foo(int x,int y)`.è¯¥å‡½æ•°è¢«cç¼–è¯‘ååœ¨åº“ä¸­çš„åå­—ä¸º`_foo`,è€Œc++ç¼–è¯‘ååˆ™ç±»ä¼¼`_foo_int_int`.c++æä¾›äº†cè¿æ¥äº¤æ¢æŒ‡å®šç¬¦å·`extern "C"`è§£å†³åå­—åŒ¹é…é—®é¢˜.

2. å¤´æ–‡ä»¶ä¸­çš„`ifndef/define/endif`æ˜¯å¹²ä»€ä¹ˆç”¨çš„?

    * ç­”æ¡ˆ:æ˜¯æ¡ä»¶ç¼–è¯‘çš„ä¸€ç§,é™¤äº†é˜²æ­¢å¤´æ–‡ä»¶è¢«é‡å¤å¼•ç”¨,è¿˜å¯ä»¥é˜²æ­¢é‡å¤å®šä¹‰(å˜é‡ã€å®æˆ–è€…ç»“æ„).

3. è¯„ä»·ä¸€ä¸‹cä¸c++çš„å„è‡ªç‰¹ç‚¹.å¦‚æœä¸€ä¸ªç¨‹åºæ—¢éœ€è¦å¤§é‡è¿ç®—,åˆè¦æœ‰ä¸€ä¸ªå¥½çš„ç”¨æˆ·ç•Œé¢,è¿˜éœ€è¦ä¸å…¶ä»–è½¯ä»¶å¤§é‡äº¤æµ,åº”è¯¥æ€æ ·é€‰æ‹©?

    * ç­”æ¡ˆ:cæ˜¯ä¸€ç§ç»“æ„åŒ–è¯­è¨€,é‡ç‚¹åœ¨äºç®—æ³•ä¸æ•°æ®ç»“æ„.cç¨‹åºçš„è®¾è®¡é¦–å…ˆè€ƒè™‘çš„æ˜¯å¦‚ä½•é€šè¿‡ä¸€ä¸ªè¿‡ç¨‹,å¯¹è¾“å…¥è¿›è¡Œè¿ç®—å¾—åˆ°è¾“å‡º.è€Œå¯¹äºc++,é¦–å…ˆè€ƒè™‘çš„æ˜¯å¦‚ä½•æ„é€ ä¸€ä¸ªå¯¹è±¡æ¨¡å‹,è®©è¿™ä¸ªæ¨¡å‹èƒ½å¤Ÿå¥‘åˆä¸ä¹‹å¯¹åº”çš„é—®é¢˜åŸŸ,è¿™æ ·å°±å¯ä»¥é€šè¿‡è·å–å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯å¾—åˆ°è¾“å‡ºæˆ–å®ç°è¿‡ç¨‹æ§åˆ¶.
    * å¯¹äºå¤§è§„æ¨¡æ•°å€¼è®¡ç®—,c/c++å’ŒJava/.NETä¹‹é—´æ²¡æœ‰æ˜æ˜¾çš„æ€§èƒ½å·®å¼‚.ä¸è¿‡,å¦‚æœè®¡ç®—æ¶‰åŠå‘é‡è®¡ç®—,çŸ©é˜µè¿ç®—,å¯ä»¥ä½¿ç”¨FORTRANæˆ–è€…MATLABç¼–å†™è®¡ç®—ç»„ä»¶(å¦‚COM).
    * å¤§è§„æ¨¡ç”¨æˆ·ç•Œé¢ç›¸å…³çš„è½¯ä»¶å¯ä»¥è€ƒè™‘ä½¿ç”¨.NETå¼€å‘(Windowsç¯å¢ƒ),è€Œä¸”.NETåŒCOMä¹‹é—´çš„äº’æ“ä½œååˆ†å®¹æ˜“,åŒæ—¶å¯¹æ•°æ®åº“è®¿é—®çš„æ”¯æŒä¹Ÿç›¸å½“å¥½.

##### 5.8 ç¨‹åºè®¾è®¡çš„å…¶ä»–é—®é¢˜

1. ä¸‹é¢çš„switchè¯­å¥è¾“å‡ºä»€ä¹ˆ?

   ```cpp
    #include <iostream>
    using namespace std;
    int main()
    {
        int n = 'c';
        switch (n++)
        {
        default:
            printf("error");
            break;
        case 'a':
        case 'A':
        case 'b':
        case 'B':
            printf("ab");
            break;
        case 'c':
        case 'C':
            printf("c");
        case 'd':
        case 'D':
            printf("d");
        }
        return 0;
    }
   ```

   è§£æ:å¦‚æœswitchä¸­çš„caseè¯­å¥åé¢ä¸åŠ break,å°±ä¼šä¾æ¬¡æ‰§è¡Œä¸‹å».å› æ­¤,ä»`c`å¼€å§‹æŸ¥æ‰¾,è¾“å‡º`c`,ä¹‹åç»§ç»­è¾“å‡º'd',æœ€ç»ˆè¾“å‡º`cd`.

2. ä¸Šæœºé¢˜ç›®æè¿°:é€‰ç§€èŠ‚ç›®æ‰“åˆ†,åˆ†ä¸ºä¸“å®¶è¯„å§”å’Œå¤§ä¼—è¯„å§”,`score[]`æ•°ç»„é‡Œé¢å­˜å‚¨æ¯ä¸ªè¯„å§”æ‰“çš„åˆ†æ•°,`judge_type[]`é‡Œå­˜å‚¨ä¸`score[]`æ•°ç»„å¯¹åº”çš„è¯„å§”ç±»åˆ«,judge_type==1è¡¨ç¤ºä¸“å®¶è¯„å§”,judge_type==2,è¡¨ç¤ºå¤§ä¼—è¯„å§”,nè¡¨ç¤ºè¯„å§”æ€»æ•°.æ‰“åˆ†è§„åˆ™å¦‚ä¸‹:ä¸“å®¶è¯„å§”å’Œå¤§ä¼—è¯„å§”çš„åˆ†æ•°å…ˆåˆ†åˆ«å–ä¸€ä¸ªå¹³å‡åˆ†(å¹³å‡åˆ†å–æ•´),ç„¶å,`æ€»åˆ†`=ä¸“å®¶è¯„å§”å¹³å‡åˆ†`*`0.6+å¤§ä¼—è¯„å§”å¹³å‡åˆ†`*`0.4,æ€»åˆ†å–æ•´.å‡½æ•°æœ€ç»ˆè¿”å›é€‰æ‰‹å¾—åˆ†.å‡½æ•°æ¥å£`int cal_score(int Score[], int Judge_type[], int N)`.

    ```cpp
    int cal_score(int Score[], int Judge_type[], int N){
        int ret=0,n=0,m=0;
        double sum1=0,sum2=0;
        if(N&&Score&&Judge_type){
            for(int i=0;i<N;++i){
                switch(Judge_type[i]){
                    case 1: sum1+=Score[i]; ++n; break;
                    case 2: sum2+=Score[i]; ++m; break;
                    default:break;
                }
            }
            if(n){
                sum1 = int(sum1/n);
            }
            if(m){
                sum2 = int(sem2/m);
            }
            ret = m?sum1*0.6+sum2*0.4:sum1;
        }
        return ret;
    }
    ```

## 19-3-29

### ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]

#### ç¬¬6ç«  é¢„å¤„ç†,constä¸sizeof

##### 6.1 å®å®šä¹‰

1. ä¸‹é¢ä»£ç è¾“å‡ºç»“æœ?

    ```c
    #include <stdio.h>
    #define SUB(x, y) x - y
    #define ACCESS_BEFORE(element, offset, value) *SUB(&element, offset) = value

    int main(int argc, char const *argv[])
    {
        int array[10] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
        ACCESS_BEFORE(array[5], 4, 6);  // æ­¤å¤„æŠ¥é”™
        for (size_t i = 0; i < 10; i++)
        {
            printf("%d", array[i]);
        }

        return 0;
    }
    ```

    A. array:1 6 3 4 5 6 7 8 9 10  
    B. array:6 2 3 4 5 6 7 8 9 10  
    C. ç¨‹åºå¯ä»¥æ­£å¸¸ç¼–è¯‘,ä½†æ˜¯è¿è¡Œæ—¶å´©æºƒ  
    **D. ç¨‹åºè¯­æ³•é”™è¯¯,ç¼–è¯‘ä¸æˆåŠŸ**  

    * è§£æ:å®çš„é¢„å¤„ç†è¢«æ›¿æ¢æˆäº†`*&array[5]-4=6`,ä¼˜å…ˆå¤„ç†å‡å·,è¿”å›ä¸€ä¸ªå³å€¼,æ‰€ä»¥ç¼–è¯‘æŠ¥é”™.

2. ç”¨é¢„å¤„ç†æŒ‡ä»¤#defineå£°æ˜ä¸€ä¸ªå¸¸æ•°,ç”¨ä»¥è¡¨æ˜ä¸€å¹´ä¸­æœ‰å¤šå°‘ç§’(å¿½ç•¥é—°å¹´)

    * è§£æ:`#define SECONDS_PER_YEAR (60 * 60 *24 * 365)UL`

3. å†™ä¸€ä¸ªæ ‡å‡†å®MIN,è¾“å…¥ä¸¤ä¸ªå‚æ•°è¿”å›è¾ƒå°çš„ä¸€ä¸ª.

    * è§£æ:`#define MIN(A, B) ((A)<=(B)?(A):(B))`

##### 6.2 const

1. å“ªä¸ªconståº”è¯¥è¢«ç§»é™¤?

    ```cpp
    #include <iostream>
    #include <windows.h>
    #define BUF_SIZE 30

    using namespace std;

    class A
    {
      private:
        const /* C */ BYTE *const /* Då¤„åº”è¢«ç§»é™¤ */ m_pBuf;

      public:
        A();
        ~A(){};
        inline const /* A */ BYTE *GetBuffer() const /* B */ { return m_pBuf; }
        int Pop(void);
    };

    A::A() : m_pBuf()
    {
        BYTE *pBuf = new BYTE[BUF_SIZE];
        if (pBuf == NULL)
        {
            return;
        }
        for (size_t i = 0; i < BUF_SIZE; i++)
        {
            pBuf[i] = i;
        }
        m_pBuf = pBuf; // æ­¤å¤„æŠ¥é”™
    }

    int main(int argc, char const *argv[])
    {
        A a;
        const/* E */ BYTE *pB = a.GetBuffer();
        if (pB != NULL)
        {
            for (size_t i = 0; i < BUF_SIZE; i++)
            {
                printf("%u", pB[i++]);
            }
        }
        system("pause");

        return 0;
    }
    ```

    * è§£æ:
      1. constä½äº*å·å·¦ä¾§,åº•å±‚const,ç”¨äºä¿®é¥°æ•´å€¼æŒ‡å‘çš„å˜é‡,å¯ä»¥ä¸åˆå§‹åŒ–æŒ‡é’ˆ.ä¸å¯ä»¥é€šè¿‡æŒ‡é’ˆä¿®æ”¹å˜é‡.ä½†æ˜¯å¯ä»¥å°†æŒ‡é’ˆæŒ‡å‘åˆ«å¤„æˆ–ä»åˆ«å¤„ä¿®æ”¹å˜é‡.
      2. constä½äº*å·å³ä¾§,é¡¶å±‚const,ç”¨äºä¿®é¥°æŒ‡é’ˆæœ¬èº«,å¿…é¡»åˆå§‹åŒ–æŒ‡é’ˆ,ä¸”ä¸å¯ä»¥æ›´æ”¹æŒ‡é’ˆçš„æŒ‡å‘.ä½†æ˜¯å¯ä»¥é€šè¿‡æŒ‡é’ˆæ”¹å˜å˜é‡.
      3. ä¸¤ä¸ªconst,æŒ‡é’ˆæœ¬èº«å’Œæ‰€æŒ‡å˜é‡å‡ä¸å¯ä»¥æ”¹å˜.
      4. constæˆå‘˜å‡½æ•°ä¸ºåªè¯»å‡½æ•°,ä¸å¯ä»¥ä¿®æ”¹æ•°æ®æˆå‘˜æˆ–è€…è°ƒç”¨éconstæˆå‘˜å‡½æ•°.

2. constå’Œ#defineæœ‰ä»€ä¹ˆåŒºåˆ«?
   
   *è§£æ:C++ä¸­å¯ä»¥ä½¿ç”¨constæˆ–è€…#defineå®šä¹‰å¸¸é‡,ä½†å‰è€…æ¯”åè€…æœ‰æ›´å¤šçš„ä¼˜ç‚¹:
      1. constå¸¸é‡æœ‰æ•°æ®ç±»å‹,è€Œå®å¸¸é‡æ²¡æœ‰æ•°æ®ç±»å‹.å¯¹å‰è€…å¯ä»¥è¿›è¡Œç±»å‹å®‰å…¨æ£€æŸ¥,ååˆ™åªè¿›è¡Œç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢,å¹¶ä¸”å¯èƒ½å‡ºé”™.
      2. éƒ¨åˆ†é›†æˆåŒ–è°ƒè¯•å·¥å…·å¯ä»¥å¯¹constå˜é‡è¿›è¡Œè°ƒè¯•,c++ä¸­constå¯ä»¥å®Œå…¨æ›¿ä»£å®.
   * æ‰©å±•çŸ¥è¯†:
      1. c++ä¸­çš„const,ä¸ä¼šåˆ†é…å†…å­˜,è€Œæ˜¯ç›´æ¥å†™å…¥ç¬¦å·è¡¨ä¸­,æˆä¸ºä¸€ä¸ªç¼–è¯‘æœŸé—´çš„å¸¸é‡(å¸¸é‡æŠ˜å ),å³ä½¿å¼ºåˆ¶åˆ†é…åœ°å€å¹¶ä¿®æ”¹ä¹Ÿæ²¡æœ‰æ•ˆæœ,å› ä¸ºç›´æ¥ä»ç¬¦å·è¡¨ä¸­å–å€¼.
      2. cä¸­çš„constä¼šåˆ†é…å†…å­˜,é€šè¿‡åœ°å€å¯ä»¥ç›´æ¥æ›´æ”¹."ä¸€ä¸ªä¸å¯ä»¥è¢«æ”¹å˜çš„æ™®é€šå˜é‡",cç¼–è¯‘å™¨ä¸ä¼šæŠŠconstçœ‹ä½œä¸€ä¸ªç¼–è¯‘æœŸé—´çš„å¸¸é‡.
      3. cé»˜è®¤constæ˜¯å¤–éƒ¨é“¾æ¥çš„,è€Œc++é»˜è®¤constæ˜¯å†…éƒ¨é“¾æ¥çš„.

3. constæˆå‘˜å‡½æ•°å¦‚ä½•ä¿®æ”¹æˆå‘˜å˜é‡?

    * è§£æ:åœ¨C++ä¸­,ç»™ç±»çš„æ•°æ®æˆå‘˜åŠ ä¸Š`mutable`å,å³ä½¿æ˜¯constæˆå‘˜å‡½æ•°ä¹Ÿå¯ä»¥ä¿®æ”¹å®ƒ.

## 19-4-2

### ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]

#### ç¬¬6ç« (ç»­)

##### 6.3 sizeof

1. ä¸‹é¢ä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆ?

    ```cpp
    #include <iostream>
    #include <stdio.h>
    #include <string.h>

    using namespace std;

    struct
    {
        short a1;
        short a2;
        short a3;
    } A;

    struct
    {
        long a1;
        short a2;
    } B;

    int main(int argc, char const *argv[])
    {
        char *ss1 = "0123456789";
        char ss2[] = "0123456789";
        char ss3[100] = "0123456789";
        int ss4[100];
        char q1[] = "abc";
        char q2[] = "a\n";
        char *q3 = "a\n";
        char *str1 = (char *)malloc(100);
        void *str2 = (void *)malloc(100);

        cout << sizeof(ss1) << " ";
        cout << sizeof(ss2) << " ";
        cout << sizeof(ss3) << " ";
        cout << sizeof(ss4) << " ";
        cout << sizeof(q1) << " ";
        cout << sizeof(q2) << " ";
        cout << sizeof(q3) << " ";
        cout << sizeof(A) << " ";
        cout << sizeof(B) << " ";
        cout << sizeof(str1) << " ";
        cout << sizeof(str2) << " ";

        return 0;
    }
    ```

    * è§£æ:
      1. æŒ‡é’ˆçš„å¤§å°æ˜¯å®šå€¼,ä¸º4.
      2. å­—ç¬¦æ•°ç»„è¦åŠ ä¸Šæœ€åçš„`\0`;
      3. ç»“æ„ä½“è€ƒè™‘å†…å­˜å¯¹é½:
         1. å½“ç»“æ„ä½“å†…çš„å…ƒç´ é•¿åº¦éƒ½å°äºå¤„ç†å™¨çš„ä½æ•°æ—¶,ä»¥ç»“æ„ä½“ä¸­æœ€é•¿æ•°æ®å…ƒç´ ä¸ºå¯¹é½å•å…ƒ,å³ç»“æ„ä½“é•¿åº¦ä¸€å®šæ˜¯æœ€é•¿æ•°æ®å…ƒç´ é•¿åº¦çš„æ•´æ•°å€.
         2. å½“ç»“æ„ä½“å†…çš„æŸä¸ªå…ƒç´ é•¿åº¦å¤§äºå¤„ç†å™¨çš„ä½æ•°æ—¶,ä»¥å¤„ç†å™¨ä½æ•°ä¸ºå¯¹é½å•å…ƒ,å³ç»“æ„ä½“é•¿åº¦ä¸€å®šæ˜¯å¤„ç†å™¨ä½æ•°çš„æ•´æ•°å€.
      4. CPUçš„ä¼˜åŒ–è§„åˆ™:å¯¹äºnå­—èŠ‚çš„å…ƒç´ ,å®ƒçš„é¦–åœ°å€èƒ½è¢«næ•´é™¤,æ‰èƒ½è·å¾—æœ€å¥½çš„æ€§èƒ½.
      5. æ•°æ®å¯¹é½:æ•°æ®æ‰€åœ¨çš„å†…å­˜åœ°å€å¿…é¡»æ˜¯è¯¥æ•°æ®é•¿åº¦çš„æ•´æ•°å€,ä½†æ˜¯ä¸åŒç¼–è¯‘å™¨ä¼˜åŒ–ç»“æœä¸åŒ.
      6. ç­”æ¡ˆ:`4 11 100 400 4 3 4 6 8 4 4`.

2. ä»¥ä¸‹ä»£ç åœ¨32ä½æœºå™¨ç¼–è¯‘,æ•°æ®ä»¥4å­—èŠ‚ä¸ºå¯¹é½å•ä½,è¾“å‡ºç»“æœä¸ºä»€ä¹ˆä¸åŒ?

    ```cpp
    class B
    {
      private:
        bool m_bTemp;
        int m_nTemp;
        bool m_bTemp2;
    }
    class C
    {
      private:
        int m_nTemp;
        bool m_bTemp;
        bool m_bTemp2;
    }

    cout << sizeof(B) << endl;
    cout << sizeof(C) << endl;

    ```

    * è§£æ:
      1. åœ¨è®¿é—®å†…å­˜æ—¶,åœ°å€æŒ‰å¯¹é½å•ä½è®¿é—®,æ•ˆç‡ä¼šé«˜å¾ˆå¤š,åŸå› åœ¨äºè®¿é—®å†…å­˜çš„ç¡¬ä»¶ç”µè·¯,ä¸€èˆ¬æƒ…å†µä¸‹,åœ°å€æ€»çº¿æ€»æ˜¯æŒ‰ç…§å¯¹é½åçš„åœ°å€æ¥è®¿é—®.
      2. åœ¨VCä¸­,å¯ä»¥é€šè¿‡`pack`é¢„å¤„ç†æŒ‡ä»¤æ¥ç¦æ­¢å¯¹é½ç­–ç•¥.é™¤éå¿…è¦,å¦åˆ™ä¸è¦ç”¨:
         1. éœ€è¦å°†ç»“æ„å†™å…¥æ–‡ä»¶;
         2. éœ€è¦å°†ç»“æ„é€šè¿‡ç½‘ç»œä¼ è¾“ç»™å…¶ä»–ç¨‹åº.
      3. å­—èŠ‚å¯¹é½æ˜¯åœ¨ç¼–è¯‘æ—¶å†³å®šçš„.
      4. ç­”æ¡ˆ:`12 8`.

3. ä¸‹é¢ç¨‹åºçš„è¾“å‡ºç»“æœ?

    ```cpp
    #include <iostream>

    using namespace std;

    class A1
    {
      public:
        int a;
        static int b;

        A1();
        ~A1();
    };
    class A2
    {
      public:
        int a;
        char c;

        A2();
        ~A2();
    };
    class A3
    {
      public:
        float a;
        char c;

        A3();
        ~A3();
    };
    class A4
    {
      public:
        float a;
        int b;
        char c;

        A4();
        ~A4();
    };
    class A5
    {
      public:
        double d;
        float a;
        int b;
        char c;

        A5();
        ~A5();
    };

    int main(int argc, char const *argv[])
    {
        cout << sizeof(A1) << endl;
        cout << sizeof(A2) << endl;
        cout << sizeof(A3) << endl;
        cout << sizeof(A4) << endl;
        cout << sizeof(A5) << endl;

        return 0;
    }
    ```

    * è§£æ:
      1. sizeof()è®¡ç®—æ ˆä¸­åˆ†é…çš„å¤§å°;
      2. ç­”æ¡ˆ:`4 8 8 12 24`.

4. è¯´æ˜sizeofå’Œstrlençš„åŒºåˆ«?
   1. sizeofæ“ä½œç¬¦çš„ç»“æœç±»å‹æ˜¯size_t,å®ƒåœ¨å¤´æ–‡ä»¶ä¸­çš„typedefä¸ºunsigned intç±»å‹,è¯¥ç±»å‹ä¿è¯èƒ½å®¹çº³å®ç°æ‰€å»ºç«‹çš„æœ€å¤§å¯¹è±¡çš„å­—èŠ‚å¤§å°;
   2. sizeofæ˜¯è¿ç®—ç¬¦,strlenæ˜¯å‡½æ•°;
   3. sizeofå¯ä»¥ä½¿ç”¨ç±»å‹åšå‚æ•°,strlenåªèƒ½ä½¿ç”¨char*åšå‚æ•°,ä¸”å¿…é¡»ä»¥`\0`ç»“å°¾.sizeofå¯ä»¥ä½¿ç”¨å‡½æ•°åšå‚æ•°,ä½¿ç”¨çš„æ˜¯å‡½æ•°çš„è¿”å›å€¼;
   4. æ•°ç»„åšsizeofçš„å‚æ•°ä¸é€€åŒ–,ä¼ é€’ç»™strlenå°±é€€åŒ–æˆæŒ‡é’ˆ;
   5. å¤§éƒ¨åˆ†ç¼–è¯‘å™¨åœ¨**ç¼–è¯‘**çš„æ—¶å€™å°±æŠŠsizeofè®¡ç®—è¿‡äº†.å› æ­¤sizeof()å¯ä»¥ç”¨æ¥å®šä¹‰æ•°ç»„çš„ç»´æ•°;
   6. strlençš„ç»“æœåœ¨è¿è¡Œæ—¶è®¡ç®—;
   7. sizeofåå¦‚æœæ˜¯ç±»å‹å¿…é¡»åŠ æ‹¬å·,å¦‚æœæ˜¯å˜é‡åå¯ä»¥ä¸åŠ æ‹¬å·,è¿™æ˜¯å› ä¸ºsizeofæ˜¯ä¸ªæ“ä½œç¬¦è€Œä¸æ˜¯å‡½æ•°;
   8. sizeofä¸èƒ½è¿”å›è¢«åŠ¨æ€åˆ†é…çš„æ•°ç»„æˆ–å¤–éƒ¨çš„æ•°ç»„çš„å°ºå¯¸;
   9. æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°æ—¶ä¼ é€’çš„æ˜¯æ•°ç»„çš„é¦–åœ°å€,å‡½æ•°å†…æ— æ³•è·å¾—æ•°ç»„çš„å¤§å°;
   10. è®¡ç®—ç»“æ„å˜é‡çš„å¤§å°å°±å¿…é¡»è®¨è®ºæ•°æ®å¯¹é½é—®é¢˜,å¯ä»¥ä½¿ç”¨`#pragma pack(n)`è°ƒæ•´,æˆ–å…³é—­`Data Alifnment`é€‰é¡¹;
   11. sizeofä¸èƒ½ç”¨äºå‡½æ•°ç±»å‹,ä¸å®Œå…¨ç±»å‹æˆ–ä½å­—æ®µ.
5. è¯´æ˜sizeofçš„ä½¿ç”¨åœºåˆ?
   1. ä¸å­˜å‚¨åˆ†é…å’ŒI/Oç³»ç»Ÿé‚£æ ·çš„ä¾‹ç¨‹è¿›è¡Œé€šä¿¡;
   2. æŸ¥çœ‹åœ¨å†…å­˜ä¸­æ‰€å çš„ç©ºé—´;
   3. åŠ¨æ€åˆ†é…å¯¹è±¡æ—¶,æŒ‡å®šå†…å­˜å¤§å°;
   4. ä¾¿äºç±»å‹çš„æ‰©å……;
   5. ä½¿ç”¨sizeofä»£æ›¿å¸¸é‡è®¡ç®—;
   6. å‡½æ•°ä¸­çš„å½¢å‚ä¸ºæ•°ç»„æˆ–å‡½æ•°æ—¶,ç»™å‡ºæŒ‡é’ˆçš„å¤§å°.
6. `int **a[3][4]`å æ®å¤šå¤§ç©ºé—´?
   1. 3Ã—4Ã—4(æŒ‡é’ˆ)=48.
7. æ‰¾å‡ºä¸‹åˆ—ç¨‹åºçš„é”™è¯¯å¹¶è§£é‡Š?

    ```cpp
    #include <iostream>
    #include <string>

    using namespace std;

    int main(int argc, char const *argv[])
    {
        // To output "TrendNicroSoftUSCN"

        string strArr1[] = {"Trend", "Micro", "Soft"};
        string *pStrArr1 = new string[2];
        pStrArr1[0] = "US";
        pStrArr1[1] = "CN";
        for (size_t i = 0; i < sizeof(strArr1) / sizeof(string); i++)
        {
            cout << strArr1[i];
        }
        for (size_t j = 0; j < sizeof(pStrArr1) / sizeof(string); j++)  // æœ‰é”™è¯¯
        {
            cout << pStrArr1[j];
        }
        cout << endl
            << sizeof(string) << endl;  // 24
        cout << sizeof(strArr1) << endl;  // 72
        cout << sizeof(pStrArr1) << endl;  // 4
        return 0;
    }
    ```

    * è§£æ:
      1. sizeofé—®é¢˜,ç¬¬äºŒä¸ªforä¸­çš„sizeofè®¡ç®—çš„æ˜¯æŒ‡é’ˆå¤§å°,å› æ­¤è¾“å‡ºä¸å…¨;
      2. sizeofæ˜¯ä¸ªç±»ä¼¼å®å®šä¹‰çš„ç‰¹æ®Šå…³é”®å­—,sizeof()æ‹¬å·ä¸­çš„å†…å®¹åœ¨ç¼–è¯‘æœŸé—´ä¸è¢«ç¼–è¯‘,è€Œæ˜¯è¢«æ›¿ä»£ç±»å‹;

         ```cpp
         int a = 8;
         sizeof(a);  // è¢«æ›¿æ¢ä¸ºsizeof(int)
         sizeof(a=6);  // å› ä¸ºa=6ä¸è¢«ç¼–è¯‘,æ‰€ä»¥aè¿˜æ˜¯8
         ```

      3. å¯¹å‡½æ•°ä½¿ç”¨sizeof,åœ¨ç¼–è¯‘é˜¶æ®µä¼šè¢«å‡½æ•°çš„è¿”å›å€¼ç±»å‹å–ä»£.

8. ä¸‹é¢ç¨‹åºçš„ç»“æœ?

    ```cpp
    #include <iostream>
    #include <complex>

    using namespace std;

    class Base
    {
      public:
        Base()
        {
            cout << "Base-ctor" << endl;
        }
        ~Base()
        {
            cout << "Base-dtor" << endl;
        }
        virtual void f(int)
        {
            cout << "Base::f(int)" << endl;
        }
        virtual void f(double)
        {
            cout << "Base::f(double)" << endl;
        }
        virtual void g(int i = 10)
        {
            cout << "Base::g()" << i << endl;
        }
        void g2(int i = 10)
        {
            cout << "Base::g2()" << i << endl;
        }
    };

    class Derived : public Base
    {
      public:
        Derived()
        {
            cout << "Derived-ctor" << endl;
        }
        ~Derived()
        {
            cout << "Derived-dtor" << endl;
        }
        void f(complex<double>)
        {
            cout << "Derived::f(complex)" << endl;
        }
        virtual void g(int i = 20)
        {
            cout << "Derived::g()" << i << endl;
        }
    };

    int main(int argc, char const *argv[])
    {
        cout << sizeof(Base) << endl;
        // A.4  B 32  C. 20
        cout << sizeof(Derived) << endl;
        // A.4  B.8  C.36

        return 0;
    }
    ```

    * è§£æ:
      1. å› ä¸ºåªæœ‰ä¸€ä¸ªæŒ‡å‘è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆ,æ‰€ä»¥éƒ½æ˜¯4.

9. ä¸‹é¢ç¨‹åºçš„ç»“æœæ˜¯?

    ```cpp
    char var[10];
    int test(char var[]){
      return sizeof(var);
    }
    ```

       * è§£æ:é€€åŒ–ä¸ºæŒ‡é’ˆ,æ‰€ä»¥ç»“æœä¸º4.

10. ä¸‹é¢ä»£ç çš„è¾“å‡ºç»“æœæ˜¯?

    ```cpp
    class B
    {
      float f;
      char p;
      int adf[3];
    };
    cout << sizeof(B);
    ```

    * è§£æ:è€ƒè™‘å¯¹é½,ç»“æœä¸º`4 + [1+3] + 12 = 20`.

11. ä¸€ä¸ªç©ºç±»å å¤šå°‘ç©ºé—´?å¤šé‡ç»§æ‰¿çš„ç©ºç±»?

    ```cpp
    #include <iostream>

    using namespace std;

    class A
    {
    };
    class A2
    {
    };
    class B : public A
    {
    };
    class C : public virtual B
    {
    };
    class D : public A, public A2
    {
    };

    int main(int argc, char const *argv[])
    {
        cout << "sizeof(A)" << sizeof(A) << endl;
        cout << "sizeof(B)" << sizeof(B) << endl;
        cout << "sizeof(C)" << sizeof(C) << endl;
        cout << "sizeof(D)" << sizeof(D) << endl;

        return 0;
    }
    ```

    * è§£æ:`1 1 4 1`
      1. ç©ºç±»å 1;
      2. å•ä¸€ç»§æ‰¿çš„ç©ºç±»å 1;
      3. å¤šé‡ç»§æ‰¿çš„ç©ºç±»å 1;
      4. è™šç»§æ‰¿æ¶‰åŠè™šæŒ‡é’ˆ,å 4.

##### 6.4 å†…è”å‡½æ•°å’Œå®å®šä¹‰

* å†…è”å‡½æ•°å’Œå®çš„å·®åˆ«æ˜¯?
  1. å†…è”å‡½æ•°å’Œæ™®é€šå‡½æ•°æ¯”å¯ä»¥åŠ å¿«é€Ÿåº¦,å› ä¸ºä¸éœ€è¦ä¸­æ–­è°ƒç”¨,ç¼–è¯‘æ—¶å†…è”å‡½æ•°ç›´æ¥é•¶åµŒåˆ°ç›®æ ‡ä»£ç ä¸­,è€Œå®åªæ˜¯ç®€å•çš„æ›¿æ¢;
  2. å†…è”å‡½æ•°è¦åšç±»å‹æ£€æŸ¥;
  3. å¯¹äºçŸ­å°çš„ä»£ç ,å†…è”å‡½æ•°å’Œå®éƒ½æ˜¯å¢åŠ ç©ºé—´æ¢æ¥æ•ˆç‡çš„æå‡,ä½†æ˜¯å†…è”å‡½æ•°åœ¨æ²¡æœ‰ä»˜å‡ºä»»ä½•ä»£ä»·çš„å‰æä¸‹æ›´å®‰å…¨;
  4. å®åœ¨Cè¯­è¨€é‡Œå¾ˆé‡è¦,åœ¨C++é‡Œæœ€å¥½æ°¸è¿œä¸ç”¨;
  5. å®ä¸æ˜¯å‡½æ•°,åªæ˜¯åœ¨ç¼–è¯‘å‰(ç¼–è¯‘é¢„å¤„ç†é˜¶æ®µ)è¿›è¡Œå­—ç¬¦ä¸²æ›¿æ¢;
  6. å…³é”®å­—`inline`å¿…é¡»ä¸å‡½æ•°å®šä¹‰ä½“æ”¾åœ¨ä¸€èµ·æ‰èƒ½æœ‰ç”¨,æ˜¯ä¸€ç§"ç”¨äºå®ç°çš„å…³é”®å­—",è€Œä¸æ˜¯"ç”¨äºå£°æ˜çš„å…³é”®å­—";
  7. å†…è”å‡½æ•°ä»¥ä»£ç è†¨èƒ€ä¸ºä»£ä»·,ä»…ä»…çœå»äº†å‡½æ•°è°ƒç”¨çš„å¼€é”€,å¦‚æœå‡½æ•°è¿è¡Œæ—¶é—´é•¿,é‚£ä¹ˆå°†æ²¡æœ‰æ„ä¹‰;
  8. æ¯ä¸€å¤„å†…è”å‡½æ•°éƒ½è¦å¤åˆ¶ä»£ç ,ä½¿ç¨‹åºå˜å¤§,æ¶ˆè€—æ›´å¤šå†…å­˜ç©ºé—´;
  9. ä»¥ä¸‹æƒ…å†µä¸é€‚ç”¨å†…è”å‡½æ•°:
     1. å‡½æ•°ä½“ä»£ç è¾ƒé•¿;
     2. å‡½æ•°ä½“å†…æœ‰å¾ªç¯ç­‰;
  10. ä½¿ç”¨inlineå…³é”®å­—,ç¼–è¯‘å™¨å†³å®šæ˜¯å¦ä½¿å‡½æ•°æˆä¸ºå†…è”.

## 19-4-4

### ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]

#### ç¬¬7ç«  æŒ‡é’ˆä¸å¼•ç”¨

##### 7.1 æŒ‡é’ˆåŸºæœ¬é—®é¢˜

1. æŒ‡é’ˆä¸åº”ç”¨çš„åŒºåˆ«ï¼Ÿ
   1. éç©ºåŒºåˆ«.å¼•ç”¨ä¸å¯èƒ½æŒ‡å‘ç©ºå€¼,æŒ‡é’ˆå¯ä»¥æŒ‡å‘ç©ºæŒ‡é’ˆ.
   2. åˆæ³•æ€§åŒºåˆ«.ä½¿ç”¨å¼•ç”¨ä¹‹å‰ä¸éœ€è¦éªŒè¯,ä½¿ç”¨æŒ‡é’ˆå‰æ€»è¦éªŒè¯éç©º.
   3. å¯ä¿®æ”¹åŒºåˆ«.æŒ‡é’ˆå¯ä»¥é‡æ–°èµ‹å€¼ä»¥æŒ‡å‘æ–°çš„å¯¹è±¡,å¼•ç”¨æ€»æ˜¯æŒ‡å‘åˆå§‹åŒ–æ—¶æ‰€æŒ‡å®šçš„å¯¹è±¡.
   4. åº”ç”¨åŒºåˆ«.è€ƒè™‘å¯ä»¥æŒ‡å‘ç©ºå¯¹è±¡æˆ–è€…æŒ‡å‘ä¸åŒå¯¹è±¡æ—¶ä½¿ç”¨æŒ‡é’ˆ,è€ƒè™‘åªæŒ‡å‘ä¸€ä¸ªå¯¹è±¡ä¸”ä¸æ”¹å˜æŒ‡å‘åˆ™ä½¿ç”¨å¼•ç”¨.
2. åˆ¤æ–­ç¨‹åºä½•å¤„é”™è¯¯ï¼Ÿ

    ```cpp
    #include <iostream>

    using namespace std;

    int main(int argc, char const *argv[])
    {
        int iv;                      // 1 æ­£ç¡®
        int iv2 = 1024;              // 2 æ­£ç¡®
        int iv3 = 999;               // 3 æ­£ç¡®
        int &reiv;                   // 4 é”™è¯¯,å¼•ç”¨æœªåˆå§‹åŒ–.
        int &reiv2 = iv;             // 5 æ­£ç¡®
        int &reiv3 = iv;             // 6 æ­£ç¡®
        int *pi;                     // 7 æ­£ç¡®
        *pi = 5;                     // 8 é”™è¯¯,é‡æŒ‡é’ˆ.
        pi = &iv3;                   // 9 æ­£ç¡®
        const double di;             // 10 é”™è¯¯,å¸¸é‡åº”åˆå§‹åŒ–.
        const double maxWage = 10.0; // 11 æ­£ç¡®
        const double minWage = 0.5;
        const double *pc = &maxWage; // 13 æ­£ç¡®

        return 0;
    }
    ```

##### 7.2 ä¼ é€’åŠ¨æ€å†…å­˜

1. ä¸‹é¢5ä¸ªå‡½æ•°å“ªä¸ªèƒ½æˆåŠŸè¿›è¡Œä¸¤æ•°äº¤æ¢ï¼Ÿ

    ```cpp
    #include <iostream>

    using namespace std;

    void swap1(int p, int q)
    {
        int temp;
        temp = p;
        p = q;
        q = temp;
    }
    void swap2(int *p, int *q)
    {
        int *temp;
        *temp = *p;
        *p = *q;
        *q = *temp;
    }
    void swap3(int *p, int *q)
    {
        int *temp;
        temp = p;
        p = q;
        q = temp;
    }
    void swap4(int *p, int *q)  // å¯ä»¥
    {
        int temp;
        temp = *p;
        *p = *q;
        *q = temp;
    }
    void swap5(int &p, int &q)  // å¯ä»¥
    {
        int temp;
        temp = p;
        p = q;
        q = temp;
    }
    int main(int argc, char const *argv[])
    {
        int a = 1, b = 2;
        // swap1(a, b);
        // swap2(&a, &b);
        // swap3(&a, &b);
        // swap4(&a, &b);
        // swap5(a, b);
        cout << a << "  " << b << endl;

        return 0;
    }
    ```

    * è§£æï¼š
      1. swap1å€¼ä¼ é€’,å±€éƒ¨å˜é‡ä¸ä¼šå½±å“ä¸»å‡½æ•°;
      2. swap2è§£å¼•ç”¨æœªåˆå§‹åŒ–çš„æŒ‡é’ˆ,æœªå®šä¹‰è¡Œä¸º;
      3. swap3å±€éƒ¨å˜é‡æŒ‡é’ˆçš„æŒ‡å‘å˜åŒ–,ä½†åœ°å€ä¸­çš„å€¼æ²¡å˜;
      4. swap4ç›´æ¥ä¿®æ”¹æŒ‡é’ˆæ‰€æŒ‡å‘åœ°å€ä¸­çš„å€¼;
      5. swap5å¼•ç”¨ä¼ é€’,å¯ä»¥ç›´æ¥ä¿®æ”¹åŸå¯¹è±¡.

2. ç¨‹åºæµ‹è¯•ç»“æœï¼Ÿ

    ```cpp
    #include <iostream>
    #include <cstring>

    using namespace std;

    void GetMemory(char *p, int num)
    {
        p = (char *)malloc(sizeof(char) * num);
    }

    int main(int argc, char const *argv[])
    {
        char *str = nullptr;
        str = GetMemory(str, 100);
        strcpy(str, "hello");
        // cout << str;
        return 0;
    }
    ```

    * è§£æï¼šGetMemoryå‡½æ•°ä¸­ä»…ä»…ä¿®æ”¹äº†å±€éƒ¨å˜é‡æŒ‡é’ˆ,ä¸ä¼šå½±å“å¤–éƒ¨å˜é‡,ç”³è¯·çš„å†…å­˜æ²¡æœ‰é‡Šæ”¾,é€ æˆå†…å­˜æ³„æ¼.å¯ä»¥ä½¿ç”¨æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆæˆ–è¿”å›å€¼.

3. å‡½æ•°æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ

    ```cpp
    char *strA(){
      char str[] = "hello world";
      return str;
    }
    ```

    * è§£æï¼š
      1. å±€éƒ¨æ•°ç»„åœ¨å‡½æ•°è¿”å›åè¢«é”€æ¯,ä¸åº”è¯¥è¢«è®¿é—®,å±äºæœªå®šä¹‰è¡Œä¸º;
      2. å¯ä»¥ä½¿ç”¨`char *sre = "hello world";`æˆ–è€…`static char str[] = "hello world";`;
      3. å±€éƒ¨æ•°ç»„æ˜¯å±€éƒ¨å˜é‡,å¯¹åº”å†…å­˜ä¸­çš„æ ˆ;
      4. æŒ‡é’ˆå˜é‡æ˜¯å…¨å±€å˜é‡,å¯¹åº”å†…å­˜ä¸­çš„å…¨å±€åŒºåŸŸ;
      5. å­—ç¬¦ä¸²å¸¸é‡ä¿å­˜åœ¨åªè¯»çš„æ•°æ®æ®µ,è€Œä¸æ˜¯åƒå…¨å±€å˜é‡é‚£æ ·ä¿å­˜åœ¨æ™®é€šæ•°æ®æ®µ(é™æ€å­˜å‚¨åŒº).

4. ä¸‹é¢ç¨‹åºçš„è¿è¡Œç»“æœ?

    ```cpp
    int a[3];
    a[0]=0;a[1]=1;a[2]=2;
    int *p,*q;
    p=a;
    q=&a[2];
    cout<<a[q-p];  // a[2]  2
    ```

    * è§£æï¼š`q-p`çš„å€¼ä¸º`(id(q)-id(p))/sizeof(int)`ä¸º2,å³è¾“å‡ºa[2]çš„å€¼.

5. ä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœï¼Ÿ

    ```cpp
    #include <iostream>

    using namespace std;
    class A
    {
      private:
        int m_a;
        int m_b;

      public:
        A()
        {
            m_a = 1;
            m_b = 2;
        }
        ~A() {}
        void fun()
        {
            printf("%d%d", m_a, m_b);
        }
    };
    class B
    {
      private:
        int m_c;

      public:
        B() { m_c = 3; }
        ~B() {}
        void fun()
        {
            printf("%d", m_c);
        }
    };

    int main(int argc, char const *argv[])
    {
        A a;
        B *pb = (B *)(&a);
        pb->fun();  // 1

        return 0;
    }
    ```

    * è§£æï¼š
      1. è€ƒå¯Ÿå†…å­˜åç§»;
      2. æŒ‡é’ˆpbæŒ‡å‘çš„æ˜¯å¯¹è±¡çš„å†…å­˜é¦–åœ°å€;
      3. `pb->fun()`è°ƒç”¨æ—¶,ç¼–è¯‘å™¨å¯¹äºm_cçš„è®¤è¯†å°±æ˜¯è·ç¦»å¯¹è±¡é¦–åœ°å€çš„åç§»é‡ä¸º0;
      4. å› æ­¤æ‰“å°m_açš„å€¼.

6. ä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœï¼Ÿ

    ```cpp
    int *ptr;
    ptr=(int*)0x8000;
    *ptr=0xaabb;
    ```

    * è§£æï¼šç»™æŒ‡é’ˆåˆ†é…äº†ä¸€ä¸ªéšæœºçš„åœ°å€,å¹¶ä¿®æ”¹äº†æŒ‡é’ˆæŒ‡å‘çš„å¯¹è±¡,æœªå®šä¹‰è¡Œä¸º.

7. ä¸‹é¢ä»£ç çš„è¿è¡Œç»“æœï¼Ÿ

    ```cpp
    #include <iostream>

    using namespace std;
    class A
    {
      public:
        int _a;
        A() { _a = 1; }
        ~A(){};
        void print()
        {
            printf("%d", _a);
        }
    };
    class B : public A
    {
      public:
        int _a;
        B() { _a = 2; }
        ~B(){};
    };

    int main(int argc, char const *argv[])
    {
        B b;
        b.print();  // 1
        printf("%d", b._a);  // 2
        return 0;
    }
    ```

    * è§£æï¼š
      1. Bä¸­çš„_aæŠŠAä¸­çš„_aéšè—äº†;
      2. Bæ„é€ æ—¶,å…ˆè°ƒç”¨Açš„æ„é€ å‡½æ•°,æ‰€ä»¥Aä¸­_aä¸º1,è€ŒBä¸­ä¸º2.

8. ä»¥ä¸‹æè¿°æ­£ç¡®çš„æ˜¯ï¼Ÿ
   1. å‡½æ•°çš„å½¢å‚åœ¨å‡½æ•°æœªè°ƒç”¨æ—¶é¢„åˆ†é…å­˜å‚¨ç©ºé—´           // è°ƒç”¨æ—¶æ‰åˆ†é…å±€éƒ¨ç©ºé—´
   2. è‹¥å‡½æ•°çš„å®šä¹‰å‡ºç°åœ¨ä¸»å‡½æ•°ä¹‹å‰,åˆ™å¯ä»¥ä¸å¿…åŠ è¯´æ˜    // å‡½æ•°éœ€è¦åœ¨è¢«è°ƒç”¨ä¹‹å‰å£°æ˜,ä¸mainæ— å…³
   3. è‹¥å‡½æ•°æ²¡æœ‰retuenè¯­å¥,åˆ™ä»€ä¹ˆå€¼ä¹Ÿä¸è¿”å›           // mainå¯ä»¥ä¸å†™return,é»˜è®¤è¿”å›0;åœ¨ä¸€èˆ¬å‡½æ•°ä¸­ä¸èƒ½æ²¡æœ‰return 
   4. ä¸€èˆ¬æ¥è¯´,å‡½æ•°çš„å½¢å‚å’Œå®å‚çš„ç±»å‹åº”è¯¥ä¸€è‡´          // æ­£ç¡®
9. ä¸‹é¢ç¨‹åºä¼šåœ¨å“ªä¸€è¡Œå´©æºƒï¼Ÿ

    ```cpp
    struct S{
      int i;
      int *p;
    };
    int main(){
      S s;
      int *p=&s.i;
      p[0]=4;
      p[1]=3;
      s.p=p;
      s.p[1]=1;
      s.p[0]=2;  // å‡ºé”™
    }

    * è§£æï¼šğŸ˜¥

## 19.4.30

### ç¬¬äºŒéƒ¨åˆ† C/Cppç¨‹åºè®¾è®¡[ç»­]

#### ç¬¬7ç«  æŒ‡é’ˆä¸å¼•ç”¨[ç»­]

##### 7.3 å‡½æ•°æŒ‡é’ˆ

1. `const char *const * keyword1`;`const char const * keyword2`;`const char *const keyword3`;`const char const keyword4`.ä»¥ä¸Šå››ç§æœ‰ä»€ä¹ˆåŒºåˆ«?

    [æŒ–å‘å¾…å¡«](#)

2. æ‰¾å‡ºä¸‹é¢ç¨‹åºçš„é”™è¯¯?

    [æŒ–å‘å¾…å¡«](#)

3. ä¸‹åˆ—æ•°æ®åˆ†åˆ«ä»£è¡¨ä»€ä¹ˆ?

    [æŒ–å‘å¾…å¡«](#)

##### 7.4 æŒ‡é’ˆæ•°ç»„å’Œæ•°ç»„æŒ‡é’ˆ

1. ä¸‹é¢ç¨‹åºè¾“å‡º?

   [æŒ–å‘å¾…å¡«](#)

2. ä¸€ä¸ªæŒ‡å‘æ•´å‹æ•°ç»„çš„æŒ‡é’ˆçš„å®šä¹‰ä¸º?

   [æŒ–å‘å¾…å¡«](#)

3. ç»™å‡ºä¸‹é¢çš„å®šä¹‰?

   [æŒ–å‘å¾…å¡«](#)

4. ä¸‹é¢ç¨‹åºæ®µçš„è¾“å‡º?

   [æŒ–å‘å¾…å¡«](#)

##### 7.5 è¿·é€”æŒ‡é’ˆ

1. ä¸‹é¢ä»£ç çš„é”™è¯¯?

   [æŒ–å‘å¾…å¡«](#)

2. ç©ºæŒ‡é’ˆå’Œè¿·é€”æŒ‡é’ˆçš„åŒºåˆ«?

   [æŒ–å‘å¾…å¡«](#)

3. C++æœ‰äº†`malloc/free`,ä¸ºä»€ä¹ˆè¿˜éœ€è¦`new/delete`?

   [æŒ–å‘å¾…å¡«](#)

4. ä¸‹é¢ç¨‹åºçš„è¾“å‡ºç»“æœ?

   [æŒ–å‘å¾…å¡«](#)

##### 7.6 æŒ‡é’ˆå’Œå¥æŸ„

1. å¥æŸ„å’ŒæŒ‡é’ˆçš„åŒºåˆ«å’Œè”ç³»?

   [æŒ–å‘å¾…å¡«](#)

2. å…³äº`auto_ptr`ä½¿ç”¨æ­£ç¡®çš„æ˜¯?

   [æŒ–å‘å¾…å¡«](#)

##### 7.7 thisæŒ‡é’ˆ

1. å…³äºthisæŒ‡é’ˆ,è¯´æ³•æ­£ç¡®çš„æ˜¯?

   [æŒ–å‘å¾…å¡«](#)
